**Общее**

  

Greenplum поддерживает SQL-стандарт ANSI, многопользовательский режим работы, изоляцию транзакций и разграничение доступа, а так же обеспечивает консистентность данных при многопользовательском доступе. Данные в Greenplum хранятся в таблицах, а таблицы состоят из записей.

  

ограничения:

- Высокие накладные расходы на запуск запроса. 
- Так как Greenplum работает на кластере, любой запрос порождает сетевые соединения между хостами и процессы на каждом из хостов. Запрос завершается, только когда все хосты успешно отработали свою часть запроса.
- Операции обновления и удаления данных в Greenplum возможны, но приводят к дополнительному расходу места и необходимости периодической очистки.
- Ограничения на конкурентность нагрузки — количество одновременно выполняемых запросов. 
- Все операции выполняются симметрично на всех хостах кластера. Это ограничение не жёсткое и продиктовано возможностями аппаратного обеспечения и операционной системы. Greenplum распараллеливает нагрузку и в полной мере утилизирует ресурсы на всех хостах кластера, благодаря чему запросы выполняются быстро. На практике производительность начинает существенно падать при конкурентности в несколько десятков запросов.

  

Массивно-параллельная архитектура Greenplum даёт как преимущества в виде быстродействия и масштабируемости, так и ограничения:

- Высокие накладные расходы на запуск запроса. 
- Так как Greenplum работает на кластере, любой запрос порождает сетевые соединения между хостами и процессы на каждом из хостов. Запрос завершается, только когда все хосты успешно отработали свою часть запроса.
- Операции обновления и удаления данных в Greenplum возможны, но приводят к дополнительному расходу места и необходимости периодической очистки.
- Ограничения на конкурентность нагрузки — количество одновременно выполняемых запросов. 
- Все операции выполняются симметрично на всех хостах кластера. Это ограничение не жёсткое и продиктовано возможностями аппаратного обеспечения и операционной системы. Greenplum распараллеливает нагрузку и в полной мере утилизирует ресурсы на всех хостах кластера, благодаря чему запросы выполняются быстро. На практике производительность начинает существенно падать при конкурентности в несколько десятков запросов.

  

  

Учитывая эти особенности MPP, Greenplum не нужно выбирать для систем с преимущественной OLTP-нагрузкой — систем, где нагрузка характеризуется большим количеством «быстрых» запросов, возвращающих небольшое количество строк, а также точечным обновлением данных.

Для систем с OLTP-нагрузкой рассмотрите PostgreSQL, Oracle или Yandex Database ([YDB](https://cloud.yandex.ru/services/ydb)).

  

**MPP vs SMP**

Противоположность массивно-параллельной архитектуры — симметричная многопроцессорная архитектура, где множество процессоров работают на одном сервере, с общей оперативной памятью и дисковой подсистемой.

  

  

  

SQL (Structured Query Language) — это язык для работы с базами данных, который включает в себя несколько категорий команд, таких как DML, DDL, DCL и TCL.

1. DML (Data Manipulation Language) — отвечает за манипуляцию данными:

• INSERT — добавляет данные в таблицы.

• UPDATE — изменяет существующие данные.

• DELETE — удаляет данные из таблиц.

• SELECT — выбирает данные из таблиц.

2. DDL (Data Definition Language) — управляет структурой базы данных:

• CREATE — создает новые объекты (таблицы, базы данных).

• ALTER — изменяет существующие объекты (например, добавление столбцов в таблицы).

• DROP — удаляет объекты из базы данных.

• TRUNCATE — очищает все данные из таблицы, но не удаляет саму таблицу.

3. DCL (Data Control Language) — управляет доступом к данным:

• GRANT — предоставляет права на выполнение операций.

• REVOKE — отзывает права.

4. TCL (Transaction Control Language) — управляет транзакциями:

• COMMIT — подтверждает изменения в базе данных.

• ROLLBACK — отменяет изменения, если транзакция не завершена.

• SAVEPOINT — создает точку сохранения в транзакции, чтобы можно было откатиться к ней.

  

⭐️ Резервный мастер (Standby). 

Принимает поток репликации с мастера. Располагается на отдельном резервном мастер-хосте. При нормальной работе к нему невозможно подключиться, но в случае отказа мастера можно активировать резервный мастер и перевести его в режим мастера.

⭐️ Первичные сегменты (Primary segments). 

Этих сегментов в кластере несколько. Они располагаются на сегмент-хостах. В своих директориях первичные сегменты хранят пользовательские данные и реплику каталога БД. На первичных сегментах обрабатываются SQL- и DML-операции, они несут основную пользовательскую нагрузку.

⭐️ Сегменты-зеркала (Mirror segments). 

Этих сегментов в кластере столько же, сколько и первичных. Зеркала располагаются на сегмент-хостах и хранят реплики данных с первичных сегментов. Они не обрабатывают запросы, а только принимают поток репликации данных, поэтому почти не создают нагрузку на процессор и память. Репликация на зеркалах синхронная: при записи данных на первичный сегмент транзакция не закончится, пока данные не реплицируются на зеркало.

  

  

Команды on-premise